# 프리코스 1주차 숫자 야구 게임
## 프리코스 리뷰
자바를 프리코스를 진행하면서 처음 접해보았고, 파이썬과 자바스크립트와 달리 변수를 선언할때 타입을 지정해주다보니 타입과 담아야할 데이터를 고려하여 변수명을 지어주는게 어려웠다. 또한, 기능을 단위로 코드를 작성해야하는게 아직은 너무 어색하다. 매주 미션을 통해 조금 더 간결한 코드를 작성하는 연습을 해야할 것 같다.

## 프리코스간 새로 알게된 방법
### stream을 이용한 String -> Array 자료형 변경

### 발췌 코드
``` java
private int[] transformToArray(String input) {
		this.checkUserInput(input);
		return Stream.of(userInput.split("")).mapToInt(Integer::parseInt).toArray();
	}
```

### 자료형 변경 방법
1. **'split(...)'** 문자열을 split 메서드의 파라미터를 구분자로 사용하여 분할하여 배열로 변환
	``` java
	userInput.split(""); // 사용자의 입력된 값을 빈 문자열을 구분자로 사용하여 분할하여 String 배열로 변환
	```

2. **'Stream.of(...)'** 데이터 처리를 위해 스트림으로 변환
	``` java
	// 배열을 스트림으로 변환할때엔 Stream.of()를 사용한다.
	Stream.of(userInput.split()) // 문자열 배열로 변환된 값을 스트림으로 변환
	```

3. **'mapToInt'** 스트림의 각 요소를 IntStream으로 변환
	``` java
	Stream.of(userInput.split("")).mapToInt(Integer::parseInt) // mapToInt를 통해 스트림을 IntStream으로 변환
	// 메소드 참조를 통해 스트림이 IntStream으로 변환될 때 적용되는 함수 매핑
	```

4. **'toArray()'** 스트림의 요소를 배열로 변환
	``` java
	Stream.of(userInput.split("")).mapToInt(Integer::parseInt).toArray(); // 스트림의 요소를 정수 배열로 변환
	```


### stream을 이용한 ArrayList -> Array 자료형 변경

### 발췌 코드
``` java
int[] purposedArray = purposedNumber.stream().mapToInt(Integer::intValue).toArray();
```

### 자료형 변경 방법
1. **'stream()'** ArrayList를 스트림으로 변환
	``` java
	// 리스트를 스트림으로 변환할땐 stream()을 사용한다.
	purposedNumber.Stream(); // Stream() 메서드를 통해 스트림으로 변환
	```
2. **'mapToInt'** 스트림의 각 요소를 IntStream으로 변환
3. **'toArray()'** 스트림의 요소를 배열로 변환

> 두 방식 모두 스트림을 이용하여 중간 연산을 거친 후 계산 결과를 도출하는 방식이나,  
> 초기 자료형에 따라 스트림으로 변환하는 방식이 다름.

### 에러를 발생시키는 방법
``` java
private void checkUserInput(String input) {
		try {
			Integer.parseInt(input);
		} catch (NumberFormatException e) {
			throw new IllegalArgumentException();
		}

		if (input.length() != 3) {
			throw new IllegalArgumentException();
		}
	}
```

1. try절에서 파라미터값을 숫자형 변환을 시도한다.
2. 숫자형으로 변환이 안되는 값, 즉 한글과 같은 문자를 입력할 경우 NumberFormatException으로 오류를 발생시킨다.

> 예외처리는 자바스크립트의 try, catch 파이썬의 try, except와 같이 적용한다.

## 소스코드 전체
``` java 
package baseball;

import static camp.nextstep.edu.missionutils.Console.readLine;
import static camp.nextstep.edu.missionutils.Randoms.pickNumberInRange;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.stream.Stream;

public class Application {
	public static void main(String[] args) {
		Game baseball = new Game();
		baseball.processGame();
	}
}

class Game {
	private static ArrayList<Integer> purposedNumber = new ArrayList<>();
	private static String userInput;

	Game() {
		System.out.println("숫자 야구 게임을 시작합니다.");
	}

	private ArrayList<Integer> getRandomNumber() {
		ArrayList<Integer> computer = new ArrayList<>();
		while (computer.size() < 3) {
			int randomNumber = pickNumberInRange(1, 9);
			if (!computer.contains(randomNumber)) {
				computer.add(randomNumber);
			}
		}

		return computer;
	}

	private void checkUserInput(String input) {
		try {
			Integer.parseInt(input);
		} catch (NumberFormatException e) {
			throw new IllegalArgumentException();
		}

		if (input.length() != 3) {
			throw new IllegalArgumentException();
		}
	}

	private int[] transformToArray(String input) {
		this.checkUserInput(input);
		return Stream.of(userInput.split("")).mapToInt(Integer::parseInt).toArray();
	}

	private void checkUserChoice() {
		String userChoice;
		userChoice = readLine();
		try {
			Integer.parseInt(userChoice);
		} catch (NumberFormatException e) {
			throw new IllegalArgumentException();
		}

		if (Integer.parseInt(userChoice) == 1) {
			this.processGame();
		} else if (Integer.parseInt(userChoice) == 2) {
			;
		} else {
			throw new IllegalArgumentException();
		}
	}

	public void processGame() {
		purposedNumber = this.getRandomNumber();
		int[] transformInput = new int[3];
		int[] purposedArray = purposedNumber.stream().mapToInt(Integer::intValue).toArray();

		while (!Arrays.equals(transformInput, purposedArray)) {
			int ballCount = 0;
			int strikeCount = 0;
			String alert = "";

			System.out.println("숫자를 입력해주세요. :");
			userInput = readLine();

			// 어레이로 변환
			transformInput = this.transformToArray(userInput);

			// 사용자가 입력 값과 주어진 값이 같은지 비
			for (int i = 0; i < purposedNumber.size(); i++) {
				if (purposedNumber.contains(transformInput[i])) { // 볼 조건
					if (purposedNumber.get(i) == transformInput[i]) { // 스트라이크 조건
						strikeCount++;
					} else{
						ballCount++;
					}
				}
			}

			if (ballCount == 0 && strikeCount == 0) {
				alert = "낫싱";
			}

			if (ballCount > 0) {
				alert += ballCount + "볼 ";
			}

			if (strikeCount > 0) {
				alert += strikeCount + "스트라이크";
				if (strikeCount == 3) {
					System.out.println(alert);
					alert = "";
					System.out.println("3개의 숫자를 모두 맞히셨습니다! 게임 종료");
					System.out.println("게임을 새로 시작하려면 1, 종료하려면 2를 입력하세요.");
					this.checkUserChoice();
				}
			}

			System.out.println(alert);

		}

	}

}
```

## 1주차 피드백
1. 요구사항을 정확히 준수한다  
	> 과제 제출 전에 기능 요구 사항, 프로그래밍 요구 사항, 과제 진행 요구 사항의 항목을 모두 잘 지켰는지 다시 한 번 점검한다. 

2. 커밋 메시지를 의미 있게 작성한다
	> 커밋 메시지에 해당 커밋에서 작업한 내용에 대한 이해가 가능하도록 작성한다.

3. git을 통해 관리할 자원에 대해서도 고려한다
	> .class 파일은 java 코드가 있으면 생성할 수 있다. 따라서 .class 파일은 굳이 git을 통해 관리하지 않아도 된다.
	IntelliJ IDEA의 .idea  폴더, Eclipse의 .metadata 폴더 또한 개발 도구가 자동으로 생성하는 폴더이기 때문에 굳이 git으로 관리하지 않아도 된다.
	앞으로 git에 코드를 추가할 때는 git을 통해 관리할 필요가 있는지를 고려해볼 것을 추천한다.

4. Pull Request를 보내기 전 브랜치를 확인한다
	> 기능 구현 작업을 fork된 Repository의 main branch가 아닌, 기능 구현을 위해 새로 만든 브랜치에서 작업한 후 PR을 보낸다. 

5. PR을 한 번 작성했다면 닫지 말고 추가 커밋을 한다
	> PR을 이미 한 번 보냈다면, 새로운 PR을 생성할 필요가 없다. 수정이 필요하다면 추가 커밋을 하면 자동으로 반영된다. 단, 미션 제출 기간 이후에는 추가 커밋을 하지 않는다.
	이름을 통해 의도를 드러낸다
	나 자신, 다른 개발자와의 소통을 위해 가장 중요한 활동 중의 하나가 좋은 이름 짓기이다. 변수 이름, 함수(메서드) 이름, 클래스 이름을 짓는데 시간을 투자하라. 이름을 통해 변수의 역할, 함수의 역할, 클래스의 역할에 대한 의도를 드러내기 위해 노력하라. 연속된 숫자를 덧붙이거나(a1, a2, ..., aN), 불용어(Info, Data, a, an, the)를 추가하는 방식은 적절하지 못하다.

6. 축약하지 않는다
	> 의도를 드러낼 수 있다면 이름이 길어져도 괜찮다.
		>> 누구나 실은 클래스, 메서드, 또는 변수의 이름을 줄이려는 유혹에 곧잘 빠지곤 한다. 그런 유혹을 뿌리쳐라. 축약은 혼란을 야기하며, 더 큰 문제를 숨기는 경향이 있다. 클래스와 메서드 이름을 한 두 단어로 유지하려고 노력하고 문맥을 중복하는 이름을 자제하자. 클래스 이름이 Order라면 shipOrder라고 메서드 이름을 지을 필요가 없다. 짧게 ship()이라고 하면 클라이언트에서는 order.ship()라고 호출하며, 간결한 호출의 표현이 된다.  
		객체 지향 생활 체조 원칙 5: 줄여쓰지 않는다 (축약 금지)

7. 공백도 코딩 컨벤션이다
	> if, for, while문 사이의 공백도 코딩 컨벤션이다.

8. 공백 라인을 의미 있게 사용한다
	> 공백 라인을 의미 있게 사용하는 것이 좋아 보이며, 문맥을 분리하는 부분에 사용하는 것이 좋다. 과도한 공백은 다른 개발자에게 의문을 줄 수 있다.

9. space와 tab을 혼용하지 않는다
	> 들여쓰기에 space와 tab을 혼용하지 않는다. 둘 중에 하나만 사용한다. 확신이 서지 않으면 pull request를 보낸 후 들여쓰기가 잘 되어 있는지 확인하는 습관을 들인다.

10. 의미 없는 주석을 달지 않는다
	> 변수 이름, 함수(메서드) 이름을 통해 어떤 의도인지가 드러난다면 굳이 주석을 달지 않는다. 모든 변수와 함수에 주석을 달기보다 가능하면 이름을 통해 의도를 드러내고, 의도를 드러내기 힘든 경우 주석을 다는 연습을 한다.

11. IDE의 코드 자동 정렬 기능을 활용한다
    > IDE의 코드 자동 정렬 기능을 사용하면 더 깔끔한 코드를 볼 수 있다.
    - IntelliJ IDEA: ⌥⌘L, Ctrl+Alt+
    - Eclipse: ⇧⌘F, Ctrl+Shift+F

12. Java에서 제공하는 API를 적극 활용한다
	> 함수(메서드)를 직접 구현하기 전에 Java API에서 제공하는 기능인지 검색을 먼저 해본다.
	Java API에서 제공하지 않을 경우 직접 구현한다.
	예를 들어 사용자를 출력할 때 사용자가 2명 이상이면 쉼표(,) 기준으로 출력을 위한 문자열은 다음과 같이 구현 가능하다.

	``` java
	List<String> members = Arrays.asList("pobi", "jason");
	String result = String.join(",", members); // "pobi,jason"
	```

13. 배열 대신 Java Collection을 사용한다
	> Java Collection 자료구조(List, Set, Map 등)를 사용하면 데이터를 조작할 때 다양한 API를 사용할 수 있다.  
	예를 들어 List<String>에 "pobi"라는 값이 포함되어 있는지는 다음과 같이 확인할 수 있다.

	``` java
	List<String> members = Arrays.asList("pobi", "jason");
	boolean result = members.contains("pobi"); // true
	```

### 참고자료
[git- 간편안내서](https://rogerdudler.github.io/git-guide/index.ko.html)